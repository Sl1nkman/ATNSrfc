<div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">CCR Phase 3: Implementation</h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="shadow card bg-light mx-auto pt-3">
    <div class="form-group">
        <div class="row">
            <div class="col">
                <label class="px-3">Implementation successful?</label>
            </div>
            <div
                 class="col">
                <Label class="radio-inline px-3">
                    <input type="radio"
                           name="implementationSuccess"
                           value="yes"
                           disabled
                           [checked]="this.phase3.implementationSuccessful"
                    >
                    Yes
                </Label>
                <Label class="radio-inline px-3">
                    <input type="radio"
                           name="implementationSuccess"
                           value="no"
                           disabled
                           [checked]="!this.phase3.implementationSuccessful"
                    >
                    No
                </Label>
            </div>
            
        </div>
        <div class="row pt-3" *ngIf="!this.phase3.implementationSuccessful&&this.showImpChange">
            <div class="col">
                <label class="px-3" for="abortRegress">Select Aborted or Regressed: </label>
            </div>
            <div class="col px-3">
                <ngx-select-dropdown
                        id="abortRegress"
                        name="abortRegress"
                        [multiple]="false"
                        [(ngModel)]="this.phase3.abortRegress"
                        [options]="abortOrRegress"
                ></ngx-select-dropdown>
            </div>
            
        </div>
        <div *ngIf="this.phase3.abort||this.phase3.regress">

            <div class="row px-3">
                <label class="px-3 pt-2 w-100" for="abortRegressReason">Reason:</label>
            </div>
            <div class="row px-3">
                      <textarea
                              type="text"
                              id="abortRegressReason"
                              name="abortRegressReason"
                              class="px-3 rounded form-control"
                              rows="2"
                              disabled
                              [(ngModel)]="this.phase3.abortRegressReason"
                      >{{this.phase3.abortRegressReason}}</textarea>
            </div>


        </div>

        <div class="row pt-3" *ngIf="this.phase3.regress" >

            <div class="col">
                <label class="px-3">Already Regressed?</label>
            </div>
            <div class="col"
                 ngbPopover="Please select if regression has already occurred"
                 triggers="mouseenter:mouseleave"
                 placement="right"
                 popoverTitle="CHANGE REQUEST ALREADY REGRESSED?">
                <Label class="radio-inline px-3">
                    <input type="radio"
                           name="alreadyRegressed"
                           value="yes"
                           disabled
                           [checked]="this.phase3.alreadyRegressed"
                    >
                    Yes
                </Label>
                <Label class="radio-inline px-3">
                    <input type="radio"
                           name="alreadyRegressed"
                           value="no"
                           disabled
                           [checked]="!this.phase3.alreadyRegressed"
                    >
                    No
                </Label>
            </div>
            
        </div>
        <div class="row pt-3" *ngIf="!this.phase3.alreadyRegressed && this.showSched" >

            <div class="col">
                <label class="px-3" for="schedRegressDate">Scheduled Regression Date: </label>
            </div>
            <div class="col px-3">
                <input class="rounded w-100 form-control"
                       type="text"
                       id="schedRegressDate"
                       name="schedRegressDate"
                       autocomplete="off"
                       disabled
                       [bsConfig]="datepickerConfig"
                       [(ngModel)]="this.phase3.schedRegressionDate"
                       bsDatepicker
                >
            </div>
            
        </div>

        <div class="pt-3" *ngIf="this.phase3.implementationSuccessful&&this.showImpChange">
            <div class="row" *ngIf="this.phase3.implementationSuccessful">
                <div class="col">
                    <label class="px-3" for="tcbEvalPeriod">TCB evaluation start date:</label>
                </div>
                <div
                     class="col">
                    <input class="rounded w-100 form-control px-3"
                           type="text"
                           id="tcbEvalPeriod"
                           name="tcbEvalPeriod"
                           autocomplete="off"
                           bsDatepicker
                           disabled
                           [bsConfig]="datepickerConfig"
                           [(ngModel)]="this.phase3.tcbEvalStart"
                    >
                </div>
                <div class="col">
                    <input class="rounded w-100 form-control px-3"
                           type="text"
                           id="TCBEndPeriod"
                           name="TCBEndPeriod"
                           autocomplete="off"
                           bsDatepicker
                           [bsConfig]="datepickerConfig"
                           [(ngModel)]="this.phase3.tcbEvalEnd"
                           disabled
                           readonly>
                </div>
            </div>

            <div class="row" >
<!--                *ngIf="this.phase3.implementationSuccessful"-->
                <div class="col">
                    <label class="px-3">Additional documents?</label>
                </div>
                <div class="col">
                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="additionalDocs"
                               value="yes"
                               disabled
                               [checked]="this.phase3.additionalDocs"
                        >
                        Yes
                    </Label>
                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="additionalDocs"
                               value="no"
                               disabled
                               [checked]="!this.phase3.additionalDocs"
                        >
                        No
                    </Label>
                </div>
                
            </div>
            <div class="row" >
<!--                *ngIf="this.phase3.additionalDocs"-->
                <div class="col">
                    <label class="px-3">All Items Updated?</label>
                </div>
                <div class="col">
<!--                        ngbPopover="At the end of the update period select whether all update items were updated by selecting the 'Yes' check box with the left-mouse-button. It is important to adhere to the update period to achieve finalisation of the TCB-CRF."-->
<!--                     triggers="mouseenter:mouseleave"-->
<!--                     placement="right"-->
<!--                     popoverTitle="CHANGE REQUEST UPDATED ITEMS"-->


                    <Label class="checkbox-inline px-3">
                        <input type="radio"
                               name="itemsUpdated"
                               value="yes"
                               disabled
                               [checked]="this.phase3.itemsUpdated"
                        >
                        Yes
                    </Label>
                    <Label class="checkbox-inline px-3">
                    <input type="radio"
                               name="itemsUpdated"
                               value="yes"
                               disabled
                               [checked]="!this.phase3.itemsUpdated"
                        >
                        No
                    </Label>
                </div>
                
            </div>
            <div class="row" >
<!--                *ngIf="this.phase3.itemsUpdated"-->
                <div class="col">
                    <label class="px-3">Evaluation successful?</label>
                </div>
                <div class="col"
                >
<!--                        ngbPopover="Please confirm whether or not the change request validation was successful by selecting the corresponding 'Yes' or 'No' options."-->
<!--                     triggers="mouseenter:mouseleave"-->
<!--                     placement="right"-->
<!--                     popoverTitle="CHANGE REQUEST SUCCESSFUL EVALUATION"-->

                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="evalSuccess"
                               value="yes"
                               disabled
                               [checked]="this.phase3.evalSuccess"
                        >
                        Yes
                    </Label>
                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="evalSuccess"
                               value="no"
                               disabled
                               [checked]="!this.phase3.evalSuccess"
                        >
                        No
                    </Label>
                </div>
                
            </div>

            <div class="row " >
<!--                *ngIf="this.phase3.evalSuccess"-->
                <div class="col">
                    <label class="px-3">Confirm Close-out:</label>
                </div>
                <div class="col">
<!--                        ngbPopover="Please confirm or reject the current change request by selecting the corresponding 'Confirm' or 'Reject' options."-->
<!--                     triggers="mouseenter:mouseleave"-->
<!--                     placement="right"-->
<!--                     popoverTitle="CHANGE REQUEST CONFIRMATION"-->
<!--                     class="col"-->

                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="confirmChoice"
                               value="Confirm"
                               disabled
                               [checked]="this.phase3.ccrConfirmation"
                        >
                        Confirm
                    </Label>
                    <Label class="radio-inline px-3">
                        <input type="radio"
                               name="confirmChoice"
                               value="Reject"
                               disabled
                               [checked]="!this.phase3.ccrConfirmation"
                        >
                        Reject
                    </Label>
                </div>
                <div class="col"></div>
            </div>
            <div *ngIf="!this.phase3.evalSuccess&&this.showEvalChange">

                <div class="row px-3">
                    <label class="px-3 pt-2" for="evalFail">Reason:</label>
                </div>
                <div  class="px-3">

                <!--                        ngbPopover="Please provide any relevant information as to why the evaluation of the change request was not successful."-->
<!--                     triggers="mouseenter:mouseleave"-->
<!--                     placement="right"-->
<!--                     popoverTitle="CHANGE REQUEST EVALUATION FAILURE REASON"-->
<!--                     class=""-->
                      <textarea rows="2"
                                type="text"
                                id="evalFail"
                                name="evalFail"
                                class="form-control w-100 px-3"
                                disabled
                                [(ngModel)]="this.phase3.evalFailure"
                      >{{this.phase3.evalFailure}}</textarea>
                </div>
            </div>
        </div>
    </div>
</div>